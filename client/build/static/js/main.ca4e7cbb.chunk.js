(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{26:function(t,e,c){},27:function(t,e,c){},55:function(t,e,c){"use strict";c.r(e);var n=c(1),a=c.n(n),s=c(20),r=c.n(s),l=(c(26),c(27),c(28),c(5)),o=c(4),i=c(7),d=c.n(i),u=c(3),j=c.n(u),b=c(0),h=function(t){var e=t.title,c=t.id,a=t.status,s=t.handleStatus,r=t.deadline,l=Object(n.useState)({color:j()().diff(j()(r))>0?"red":"black"}),i=Object(o.a)(l,2),d=i[0];i[1];return Object(b.jsx)("div",{className:"card col-10 mx-auto",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsxs)("h4",{className:"card-title",children:[" ",e]}),Object(b.jsxs)("p",{style:d,children:[" Due Date: ",j()(r).format("L")]}),"backlog"===a?Object(b.jsx)("div",{className:"card-footer",children:Object(b.jsx)("button",{className:"btn btn-info",onClick:function(){return s(c,a)},children:" Start Project"})}):"inprogress"===a?Object(b.jsx)("div",{className:"card-footer",children:Object(b.jsx)("button",{className:"btn btn-success",onClick:function(){return s(c,a)},children:"Move To Complete"})}):Object(b.jsx)("div",{className:"card-footer",children:Object(b.jsx)("button",{className:"btn btn-warning",onClick:function(){return s(c,a)},children:" Remove Project "})})]})})},m=function(t){var e=Object(n.useState)({backlog:[],inprogress:[],completed:[]}),c=Object(o.a)(e,2),a=c[0],s=c[1],r=Object(n.useState)(!1),i=Object(o.a)(r,2),u=i[0],m=i[1];Object(n.useEffect)((function(){d.a.get("http://localhost:8000/api/projects").then((function(t){s({backlog:t.data.results.filter((function(t){return"backlog"===t.status})).sort((function(t,e){return j()(t.duedate).diff(j()(e.duedate))})),inprogress:t.data.results.filter((function(t){return"inprogress"===t.status})).sort((function(t,e){return j()(t.duedate).diff(j()(e.duedate))})),completed:t.data.results.filter((function(t){return"completed"===t.status})).sort((function(t,e){return j()(t.duedate).diff(j()(e.duedate))}))})})).catch((function(t){return console.log(t)}))}),[u]);var f=function(t,e){if("completed"!==e){var c={status:"backlog"===e?"inprogress":"completed"};d.a.put("http://localhost:8000/api/projects/".concat(t),c).then((function(t){m(!u)})).catch((function(t){return console.log(t)}))}else!function(t){d.a.delete("http://localhost:8000/api/projects/".concat(t)).then((function(t){m(!u)})).catch((function(t){return console.log(t)}))}(t)};return Object(b.jsxs)("div",{className:"d-flex flex-wrap justify-content-center col=11 mx-auto",children:[Object(b.jsxs)("div",{className:"col-3",children:[Object(b.jsx)("h3",{children:" Backlog "}),a.backlog.map((function(t,e){return Object(b.jsx)(h,{id:t._id,title:t.title,status:t.status,deadline:t.duedate,handleStatus:f},e)}))]}),Object(b.jsxs)("div",{className:"col-3",children:[Object(b.jsx)("h3",{children:"In Progress"}),a.inprogress.map((function(t,e){return Object(b.jsx)(h,{id:t._id,title:t.title,status:t.status,deadline:t.duedate,handleStatus:f},e)}))]}),Object(b.jsxs)("div",{className:"col-3",children:[Object(b.jsx)("h3",{children:"Completed"}),a.completed.map((function(t,e){return Object(b.jsx)(h,{id:t._id,title:t.title,status:t.status,deadline:t.duedate,handleStatus:f},e)}))]}),Object(b.jsx)(l.a,{className:"btn btn-primary col-5",to:"/new",children:" Add New Project "})]})},f=c(8),p=c(10),O=function(t){var e=t.inputs,c=t.handleInputChange,n=t.handleSubmit,a=t.errors,s=t.submitValue;return Object(b.jsxs)("form",{onSubmit:n,className:"col-7 mx-auto",children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"title",children:" Project Title: "}),Object(b.jsx)("input",{type:"text",className:"form-control",onChange:c,value:e.title,name:"title"}),Object(b.jsxs)("span",{className:"text-danger",children:[" ",a.title?a.title.message:""]})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"duedate",children:" Due Date: "}),Object(b.jsx)("input",{type:"date",className:"form-control",onChange:c,value:e.duedate,name:"duedate"}),Object(b.jsxs)("span",{className:"text-danger",children:[" ",a.duedate?a.duedate.message:""]})]}),Object(b.jsx)("input",{type:"submit",value:s,className:"btn btn-primary"})]})},x=function(t){var e=Object(n.useState)({title:"",duedate:""}),c=Object(o.a)(e,2),a=c[0],s=c[1],r=Object(n.useState)({title:"",duedate:""}),i=Object(o.a)(r,2),u=i[0],j=i[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(l.a,{to:"/",children:" Back to DashBoard "}),Object(b.jsxs)("div",{className:"card col-24 mx-auto",children:[Object(b.jsx)("h4",{className:"card-title",children:"Plan a new Project"}),Object(b.jsx)(O,{inputs:a,handleInputChange:function(t){s(Object(p.a)(Object(p.a)({},a),{},Object(f.a)({},t.target.name,t.target.value)))},handleSubmit:function(t){d.a.post("http://localhost:8000/api/projects/",a).then((function(t){return Object(l.c)("/")})).catch((function(t){return 404===t.response.status?j(t.response.data.errors):console.log(t)}))},errors:u,submitValue:"Plan Your Next Project"})]})]})};var g=function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("h1",{children:"Project Manager"}),Object(b.jsxs)(l.b,{children:[Object(b.jsx)(m,{path:"/"}),Object(b.jsx)(x,{path:"/new"})]})]})},v=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,56)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,s=e.getLCP,r=e.getTTFB;c(t),n(t),a(t),s(t),r(t)}))};r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(g,{})}),document.getElementById("root")),v()}},[[55,1,2]]]);
//# sourceMappingURL=main.ca4e7cbb.chunk.js.map